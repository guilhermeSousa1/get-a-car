<ng-template [ngIf]="(isLargeScreen$ | async) === false">
  <table mat-table [dataSource]="pastReservations$ | async" class="w-full">
    <ng-container matColumnDef="date">
      <th mat-header-cell *matHeaderCellDef class="col-header-cell">Date</th>
      <td mat-cell *matCellDef="let reservation">
        <div class="flex flex-col">
          <span class="text-base">
            {{reservation?.details?.startDate | date:'M/d/yy'}} - {{reservation?.details?.endDate | date:'M/d/yy'}}
          </span>
          <span class="text-gray-500">
            {{reservation?.details?.startDate | date:'EEEE'}} - {{reservation?.details?.endDate | date:'EEEE'}}
          </span>
        </div>
      </td>
    </ng-container>

    <ng-container matColumnDef="days">
      <th mat-header-cell *matHeaderCellDef class="col-header-cell">Days</th>
      <td mat-cell *matCellDef="let reservation" class="text-base">
        {{reservation?.details?.drivingDays}}
      </td>
    </ng-container>

    <ng-container matColumnDef="car">
      <th mat-header-cell *matHeaderCellDef class="col-header-cell">Car</th>
      <td mat-cell *matCellDef="let reservation" class="text-base capitalize">
        {{reservation?.car?.brand + ' ' + reservation?.car?.model}}
      </td>
    </ng-container>

    <ng-container matColumnDef="extra-charge">
      <th mat-header-cell *matHeaderCellDef class="col-header-cell">Extra Charge</th>
      <td mat-cell *matCellDef="let reservation" class="text-base">
        ${{reservation?.additionalCharge}}
      </td>
    </ng-container>

    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef class="col-header-cell">Status</th>
      <td mat-cell *matCellDef="let reservation" class="text-base">
        {{RESERVATION_STATUS[reservation?.status]}}
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="columnsToDisplay; sticky: true"></tr>
    <tr mat-row *matRowDef="let myRowData; columns: columnsToDisplay" (click)="showTripDetailsDialog()"></tr>
  </table>
</ng-template>

<ng-template [ngIf]="isLargeScreen$ | async">
  <mat-card *ngFor="let reservation of (pastReservations$ | async)"
            class="mt-4 border-solid border border-gray-200">
    <mat-card-content class="flex flex-col text-base">
      <mat-card-title>
        {{reservation?.details?.startDate | date:'M/d/yy'}} - {{reservation?.details?.endDate | date:'M/d/yy'}}
      </mat-card-title>
      <mat-card-subtitle>
        {{reservation?.details?.startDate | date:'EEEE'}} - {{reservation?.details?.endDate | date:'EEEE'}}
      </mat-card-subtitle>
      <span class="text-gray-500 mb-1">Days: {{reservation?.details?.drivingDays}}</span>
      <span class="text-gray-500 mb-1 capitalize">
        Car: {{reservation?.car?.brand + ' ' + reservation?.car?.model}}
      </span>
      <span class="text-gray-500 mb-1">Extra Charge: ${{reservation?.additionalCharge}}</span>
      <span class="text-gray-500">Status: {{RESERVATION_STATUS[reservation?.status]}}</span>
    </mat-card-content>
    <mat-card-actions>
      <button type="button"
              mat-button
              color="primary"
              class="flex ml-auto"
              (click)="showTripDetailsDialog()">
        DETAILS
      </button>
    </mat-card-actions>
  </mat-card>
</ng-template>

<mat-paginator [pageSizeOptions]="[5, 10, 20]"></mat-paginator>
